package Network;

import com.esotericsoftware.kryonet.Connection;
import com.esotericsoftware.kryonet.Listener;
import com.esotericsoftware.minlog.Log;
import com.peter.rogue.network.Packet.*;
import com.peter.rogue.screens.Play;

public class NetworkListener extends Listener{
	public Play play;
	public PacketHandler packetHandler;
	
	public NetworkListener(Play play){
		this.play = play;
		packetHandler = new PacketHandler(adventure);
	}
	
	public void connect(Connection arg0){
		Log.info("[SERVER] Someone has connected.");
	}
	public void disconnect(Connection arg0){
		Log.info("[SERVER] Disconnect in process.");
		
	}
	public void received(Connection connection, Object obj){
		if(obj instanceof PacketLoginRequest){
			PacketLoginResponse loginResponse = new PacketLoginResponse();
			loginResponse.accepted = true;
			connection.sendTCP(loginResponse);
		}
		if(obj instanceof PacketMessage){
			String message = ((PacketMessage) obj).message;
			Log.info(message);
		}
	}
}
