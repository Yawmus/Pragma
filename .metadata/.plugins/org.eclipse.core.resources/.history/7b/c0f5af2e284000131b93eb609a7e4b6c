package com.peter.rogue.entities;

import java.util.UUID;

import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.g2d.BitmapFont;
import com.badlogic.gdx.graphics.g2d.Sprite;
import com.peter.rogue.Global;
import com.peter.rogue.map.Map;

public class Entity extends Sprite{
	
	private String type = new String();
	protected boolean animate;
	protected String name;
	protected String ID;
	protected float tileWidth = 32, tileHeight = 32;
    protected static BitmapFont font = new BitmapFont();
    protected int rand1, rand2;
	protected boolean pickedUp = false;

	public Entity(String filename, String type){
		super(new Sprite(new Texture(Gdx.files.internal("img/" + filename))));
		this.type = type;
		name = new String("null");
		animate = false;
		ID = UUID.randomUUID().toString();
	}

	@Override
	public void setPosition(float x, float y){
		setX(x * tileWidth);
		setY(y * tileHeight);
		Global.map.getData().put(ID, this);
		Global.map.setMark(ID, getX(), getY());
	}

	public String getID() {
		return this.entry.ID;
	}
	
	public String getName(){
		return name;
	}
	
	public MapEntry getEntry() {
		return entry;
	}
	
	public Entity getMapObject(float x, float y) {
		return Entity.map[(int)(x/32)][(int)(y/32)].entity;
	}

	public void setMap(float x, float y, MapEntry entry) {
		Entity.map[(int)(x/32)][(int)(y/32)] = entry;
	}
	
	public static void clearMap(){
		for(int i=0; i<Map.WIDTH; i++)
    		for(int j=0; j<Map.HEIGHT; j++){
    			nullEntry = new MapEntry("null", null);
    			map[i][j] = nullEntry;
    		}
	}
	
	public String getType() {
		return type;
	}
	public boolean isAnimate(){
		return animate;
	}
	

	public void pickedUp(boolean pickedUp){
		this.pickedUp = pickedUp;
	}
	public boolean isPickedUp(){
		return pickedUp;
	}
}

